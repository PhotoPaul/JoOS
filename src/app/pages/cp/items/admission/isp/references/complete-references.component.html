<div *ngIf="applicationData">
    <data-panel ngId="firstReferenceInfo" heading="Pastor's Contact Information" [color]="'portlet-' + getDecisionColor(applicationData.application[0].referenceId)">
        <ng-container *ngIf="applicationData.application[0].documentUrl; else firstReference">
            <iframe [src]="applicationData.application[0].documentUrl" style="width: 100%; height: 400px"></iframe>
            <div class="row">
                <div class="col-md-12 text-center">
                    <action-button (click)="deleteConfidentialLetterOfRecommendation(applicationData.application[0].documentId, 0)" icon="fa-trash-alt" color="btn-red" [caption]="'delete' | l" [bTooltip]="'deleteConfidentialLetterOfRecommendation' | l" [ajax]="false"></action-button>
                </div>
            </div>
        </ng-container>
        <ng-template #firstReference>
            <div class="row">
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="firstReferenceFirstName">First Name</label>
                        <pre>{{ applicationData.application[0].firstName }}</pre>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="firstReferenceLastName">Last Name</label>
                        <pre>{{ applicationData.application[0].lastName }}</pre>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="firstReferenceEmail">Email</label>
                        <pre>{{ applicationData.application[0].email }}</pre>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="firstReferencePhone">Phone</label>
                        <pre>{{ applicationData.application[0].phone }}</pre>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <label for="firstReferenceAddress">Address</label>
                        <pre>{{ applicationData.application[0].address }}</pre>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="firstReferenceCity">City, State / Province</label>
                        <pre>{{ applicationData.application[0].city }}</pre>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="form-group">
                        <label for="firstReferenceZipCode">ZIP / Postcode</label>
                        <pre>{{ applicationData.application[0].zipCode }}</pre>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="firstReferenceCountry">Country</label>
                        <pre>{{ applicationData.application[0].country }}</pre>
                    </div>
                </div>
            </div>
            <div *authIf="['admin', 'registrar']" class="row">
                <div class="col-md-12 text-center">
                    <ng-container *ngIf="applicationData.application[0].referenceId?.length === 34">
                        <div class="form-group">
                            <label for="firstReferenceUrl">{{ 'uniqueConfidentialLetterOfRecommendationLink' | l }}</label>
                            <input type="text" (click)="$event.target.select()" id="firstReferenceUrl" name="firstReferenceUrl" class="form-control text-center" readonly="readonly" [value]="appURI + 'forms/letter-of-recommendation?token=' + encodeURIComponent(applicationData.application[0].referenceId)">
                        </div>
                        <p>If this person is no longer accepted click "Reject"</p>
                    </ng-container>
                    <action-button *ngIf="applicationData.application[0].referenceId?.length < 34" (specialClick)="decideForReference(0, true)" icon="fa-thumbs-up" color="btn-green" [caption]="'accept' | l" [bTooltip]="'Accept Pastor\'s Contact Information'"></action-button>
                    <action-button *ngIf="applicationData.application[0].referenceId != '0'" (specialClick)="decideForReference(0, false)" icon="fa-thumbs-down" color="btn-red" [caption]="'reject' | l" [bTooltip]="'Reject Pastor\'s Contact Information'"></action-button>
                </div>
            </div>
        </ng-template>
    </data-panel>

    <data-panel ngId="secondReferenceInfo" heading="Teacher or Professor's Contact Information" [color]="'portlet-' + getDecisionColor(applicationData.application[1].referenceId)">
        <ng-container *ngIf="applicationData.application[1].documentUrl; else secondReference">
             <iframe [src]="applicationData.application[1].documentUrl" style="width: 100%; height: 400px"></iframe> 
             <div class="row">
                <div class="col-md-12 text-center">
                    <action-button (click)="deleteConfidentialLetterOfRecommendation(applicationData.application[1].documentId, 1)" icon="fa-trash-alt" color="btn-red" [caption]="'delete' | l" [bTooltip]="'deleteConfidentialLetterOfRecommendation' | l" [ajax]="false"></action-button>
                </div>
            </div>
        </ng-container>
        <ng-template #secondReference>
            <div class="row">
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="secondReferenceFirstName">First Name</label>
                        <pre>{{ applicationData.application[1].firstName }}</pre>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="secondReferenceLastName">Last Name</label>
                        <pre>{{ applicationData.application[1].lastName }}</pre>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="secondReferenceEmail">Email</label>
                        <pre>{{ applicationData.application[1].email }}</pre>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="secondReferencePhone">Phone</label>
                        <pre>{{ applicationData.application[1].phone }}</pre>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <label for="secondReferenceAddress">Address</label>
                        <pre>{{ applicationData.application[1].address }}</pre>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="secondReferenceCity">City, State / Province</label>
                        <pre>{{ applicationData.application[1].city }}</pre>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="form-group">
                        <label for="secondReferenceZipCode">ZIP / Postcode</label>
                        <pre>{{ applicationData.application[1].zipCode }}</pre>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label for="secondReferenceCountry">Country</label>
                        <pre>{{ applicationData.application[1].country }}</pre>
                    </div>
                </div>
            </div>
            <div *authIf="['admin', 'registrar']" class="row">
                <div class="col-md-12 text-center">
                    <ng-container *ngIf="applicationData.application[1].referenceId?.length === 34">
                        <div class="form-group">
                            <label for="secondReferenceUrl">{{ 'uniqueConfidentialLetterOfRecommendationLink' | l }}</label>
                            <input type="text" (click)="$event.target.select()" id="secondReferenceUrl" name="secondReferenceUrl" class="form-control text-center" readonly="readonly" [value]="appURI + 'forms/letter-of-recommendation?token=' + encodeURIComponent(applicationData.application[1].referenceId)">
                        </div>
                        <p>If this person is no longer accepted click "Reject"</p>
                    </ng-container>
                    <action-button *ngIf="applicationData.application[1].referenceId?.length < 34" (specialClick)="decideForReference(1, true)" icon="fa-thumbs-up" color="btn-green" [caption]="'accept' | l" [bTooltip]="'Accept Teacher or Professor\'s Contact Information'"></action-button>
                    <action-button *ngIf="applicationData.application[1].referenceId != '0'" (specialClick)="decideForReference(1, false)" icon="fa-thumbs-down" color="btn-red" [caption]="'reject' | l" [bTooltip]="'Reject Teacher or Professor\'s Contact Information'"></action-button>
                </div>
            </div>
        </ng-template>
    </data-panel>

    <ng-container>
        <div *ngIf="admissionService.hasAccess(applicationData.accessControl.editRoles) && applicationData.application[0].documentUrl && applicationData.application[1].documentUrl" class="row text-center extraBottomPadding">
            <action-collection [actionButtons]="decisionButtons" [collectionAjax]="true"></action-collection>
        </div>
        <div *ngIf="admissionService.hasAccess(applicationData.accessControl.editRoles)" class="row text-center extraBottomPadding">
            <action-button (click)="admissionService.editApplication(applicationData.accessControl.editPath, this.userId)" color="btn-blue" icon="fa-pencil-alt" [caption]="'edit' | l" [bTooltip]="'editApplication' | l"></action-button>
        </div>
        <div *authIf="['admin', 'registrar', 'admissions']" class="row text-center extraBottomPadding">
            <action-button (click)="admissionService.returnToList(this.userId)" icon="fa-arrow-left" color="btn-blue" [caption]="'back' | l" [bTooltip]="'backToApplicants' | l"></action-button>
        </div>
    </ng-container>
</div>